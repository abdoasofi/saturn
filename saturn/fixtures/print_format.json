[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Material Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{# Material Request — Compact-like Print Format with Image + Delivered Q + custom fields\n   UOM and Remarks moved into item details (not separate columns) #}\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Material Request - {{ doc.name }}</title>\n  <style>\n    /* بسيط utilities يشبه Tailwind لتضمن التوافق */\n    .text-sm{font-size:0.9rem}\n    .text-xs{font-size:0.78rem}\n    .text-lg{font-size:1.15rem}\n    .font-medium{font-weight:600}\n    .font-bold{font-weight:700}\n    .uppercase{text-transform:uppercase}\n    .p-2{padding:0.5rem}\n    .p-3{padding:0.75rem}\n    .p-4{padding:1rem}\n    .mb-2{margin-bottom:0.5rem}\n    .mb-4{margin-bottom:1rem}\n    .mt-2{margin-top:0.5rem}\n    .w-full{width:100%}\n    .table {width:100%; border-collapse: collapse;}\n    .table th, .table td {border: 1px solid #e5e7eb; padding:0.45rem; vertical-align: middle;}\n    .table th {background:#f8fafc; text-align:left}\n    .logo {height:50px; object-fit:contain}\n    .center {text-align:center}\n    .right {text-align:right}\n    .small-note {color:#374151; font-size:0.78rem}\n    .item-name {font-size:0.95rem; font-weight:600}\n    img.item-img {width:56px; height:56px; object-fit:contain; border:1px solid #e2e8f0; background:white}\n    .item-details {font-size:0.82rem; color:#374151}\n    @media print {\n      .p-4{padding:0.4rem}\n      img.item-img{width:48px;height:48px}\n    }\n  </style>\n</head>\n<body class=\"p-4\">\n  <!-- Header -->\n  <div style=\"display:flex; justify-content:space-between; align-items:center\" class=\"mb-4\">\n    <div>\n      {% if doc.company %}\n        <div class=\"font-bold text-lg\">{{ doc.company }}</div>\n      {% endif %}\n      <div class=\"text-sm small-note\">Material Request</div>\n      <div class=\"text-xs small-note\"># {{ doc.name }}</div>\n    </div>\n\n    <div class=\"right\">\n      {% if doc.print_heading %}\n        <div class=\"font-medium\">{{ doc.print_heading }}</div>\n      {% else %}\n        <div class=\"font-medium\">Material Request</div>\n      {% endif %}\n      <div class=\"text-sm small-note\">\n        Date: {{ doc.transaction_date or doc.posting_date or doc.requested_date or \"\" }}\n      </div>\n      <div class=\"text-sm small-note\">Requested By: {{ doc.requested_by or doc.owner or \"\" }}</div>\n    </div>\n  </div>\n\n  <!-- Info row (from/to) -->\n  <div class=\"mb-4\">\n    <table class=\"w-full\" style=\"border:none\">\n      <tr>\n        <td style=\"border:none; padding:0\">\n          <div class=\"small-note\">To Warehouse</div>\n          <div class=\"font-medium\">{{ doc.set_warehouse or doc.to_warehouse or \"\" }}</div>\n        </td>\n        <td style=\"border:none; padding:0\">\n          <div class=\"small-note\">Department</div>\n          <div class=\"font-medium\">{{ doc.department or \"\" }}</div>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Items table -->\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th style=\"width:6%; text-align:center\">#</th>\n        <th style=\"width:12%\">Image</th>\n        <th style=\"width:42%\">Item / Details</th>\n        <th style=\"width:12%\" class=\"center\">Qty</th>\n        <th style=\"width:12%\" class=\"center\">Delivered Q</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% set idx = 1 %}\n      {% for row in doc.items %}\n        <tr>\n          <td class=\"center\">{{ idx }}</td>\n\n          {# image: محاولة جلب صورة من Item عبر حقل image إذا item_code معطى #}\n          {% set img = frappe.db.get_value(\"Item\", row.item_code, \"image\") if row.item_code else None %}\n          <td class=\"center\">\n            {% if img %}\n              <img class=\"item-img\" src=\"{{ img }}\" alt=\"{{ row.item_name or row.item_code }}\">\n            {% else %}\n              <div class=\"small-note\">No Image</div>\n            {% endif %}\n          </td>\n\n          <td>\n            <div class=\"item-name\">{{ row.item_name or row.item_code }}</div>\n\n            <div class=\"item-details mt-2\">\n              {# custom fields shown inline #}\n              {% if row.custom_saturn_code %}\n                <div>Saturn Code: <span class=\"font-medium\">{{ row.custom_saturn_code }}</span></div>\n              {% endif %}\n              {% if row.custom_sku %}\n                <div>SKU: <span class=\"font-medium\">{{ row.custom_sku }}</span></div>\n              {% endif %}\n\n              {# UOM displayed as part of details (not separate column) #}\n              <div>\n                <span class=\"small-note\">UOM:</span>\n                <span class=\"font-medium\">{{ row.uom or row.stock_uom or \"\" }}</span>\n              </div>\n\n              {# Description from Item if exists (fallback) #}\n              {% set item_desc = frappe.db.get_value(\"Item\", row.item_code, \"description\") if row.item_code else None %}\n              {% if item_desc %}\n                <div class=\"text-xs small-note mt-1\">{{ item_desc|truncate(140) }}</div>\n              {% endif %}\n\n              {# Remarks / Other (moved inside details) - use row.remark or any custom remark field #}\n              {% if row.remark %}\n                <div class=\"text-xs small-note mt-1\">Remark: {{ row.remark }}</div>\n              {% endif %}\n\n              {# any schedule or extra small info #}\n              {% if row.schedule_date %}\n                <div class=\"text-xs small-note mt-1\">Schedule: {{ row.schedule_date }}</div>\n              {% endif %}\n            </div>\n          </td>\n\n          <td class=\"center\">{{ row.qty or row.required_qty or 0 }}</td>\n\n          {# Delivered Q — الحقل الفرعي custom_delivered_q الموجود في Material Request Item #}\n          <td class=\"center\">\n            {% if row.custom_delivered_q is not none %}\n              {{ row.custom_delivered_q }}\n            {% else %}\n              0\n            {% endif %}\n          </td>\n        </tr>\n        {% set idx = idx + 1 %}\n      {% endfor %}\n    </tbody>\n  </table>\n\n  <!-- Footer / Notes -->\n  <div class=\"mt-4\">\n    {% if doc.remarks %}\n      <div class=\"small-note\">Remarks: {{ doc.remarks }}</div>\n    {% endif %}\n\n    <div style=\"margin-top:1.2rem; display:flex; justify-content:space-between; align-items:center\">\n      <div class=\"small-note\">Prepared By: {{ doc.owner or \"\" }}</div>\n      <div class=\"small-note right\">Printed: {{ frappe.utils.now_datetime() }}</div>\n    </div>\n  </div>\n</body>\n</html>\n",
  "line_breaks": 0,
  "margin_bottom": 0.0,
  "margin_left": 0.0,
  "margin_right": 0.0,
  "margin_top": 0.0,
  "modified": "2025-08-28 00:22:21.033194",
  "module": "Stock",
  "name": "Custom Material Request Layout",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]